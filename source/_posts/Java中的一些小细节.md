---
title: Java中的一些小细节
date: 2017-05-05 17:54:41
tags:Java
---

闲来无事,准备再通读一边<<Java核心技术>>,该文章用于记录Java知识的一些小细节.

<!--more-->

1. Java7开始,可以为数字字面量加上下划线,如:`1_000_000`表示1百万,Java编译器会自动去除这些下划线.
2. float类型的数值有一个后缀F,没有后缀F的浮点数默认为double类型.
3. System.out.println(2.0-1.1)打印的结果是0.8999999999999999,原因是二进制表示的浮点数,无法精确表示分数1/10.如果想要在浮点数计算中不含油任何舍入误差,就应该使用BigDecimal类.
4. Java中的char对于一个中文字符,不是一定是16位来表示的,早期Unicode是使用16位表示,但是后来字符数量增多,添加了中文,日文等大量字符后,16位是完全无法表示全部的字符的.比如`𫝆`这个字的Unicode编码为:`\ud86d\udf46`,所以char是不可能存取所有的汉字的,比如上述汉字`𫝆`.可到http://www.qqxiuzi.cn/zh/hanzi-unicode-bianma.php查看汉字Unicode的范围.
5. const是Java保留的关键字,但是未投入使用.
6. 整数除以0抛异常,浮点数除以0得到无穷大或者NaN(0/0).
7. 不必在数学方法名和常量名前添加前缀`Math.`,只要在源文件的顶部加上下面这行代码就可以了`import static java.lang.Math.*`,这是静态导入.
8. 比较两个字符串是否相等,并且不区分大小写,可以使用`equalsIgnoreCase()`方法.
9. case可接受`char`,`byte`,`short`,`int`的常量表达式,或者他们的封箱类型,注意是常量,也就是说必须是final类型的,也可以接受`enum`类型,而在jdk1.7之后,case接受`String`类型,也就是说case共接受10种常量表达式.
10. 在Java中,允许数组的长度为0.如果某个函数返回一个数组,但是返回的结果为空,就可以创建一个长度为0的数组返回,如`new elementType[0]`,但是注意,数组长度为0与null不是一个概念.
11. 看到这个知识可算是明白了给函数传递String类型的变量的时候,在函数中改变该变量的值后,为什么外部并不起作用.比如`String s = "abc"; change(s); sout(s);` ,`change(s)`函数的意义为将传来的参数修改为其他值,但是执行后,s的值并没有改变.Java中方法参数传递有两种,一种是基本类型值传递,一种是引用传递.但是引用传递其意义为对引用进行拷贝然后传递,所以对于传递String类型变量的时候,传递的是String类型的一个拷贝引用,而在内部改变改引用对象的时候,导致该拷贝引用指向了一个新的区域,而原引用并不改变.那么到这就应该理解了,如果企图在函数中改变某个引用的指向值,即重新new一个对象,赋值给该引用,通常会失败,但是通过该引用改变对象的内容,却是可以的.
12. 静态导入,只是可以使用某个类下的静态方法和静态域而已.
